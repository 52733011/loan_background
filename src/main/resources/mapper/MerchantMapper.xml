<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xiaochong.loan.background.mapper.MerchantMapper">

	<resultMap id="BaseResultMap" type="com.xiaochong.loan.background.entity.po.Merchantinfo" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="merchant_name" property="merchantName" jdbcType="VARCHAR" />
		<result column="short_name" property="shortName" jdbcType="VARCHAR" />
		<result column="en_name" property="enName" jdbcType="VARCHAR" />
		<result column="link_man" property="linkMan" jdbcType="VARCHAR" />
		<result column="link_mobile" property="linkMobile" jdbcType="VARCHAR" />
		<result column="link_email" property="linkEmail" jdbcType="VARCHAR" />
		<result column="address" property="address" jdbcType="VARCHAR" />
		<result column="scale" property="scale" jdbcType="VARCHAR" />
		<result column="industry" property="industry" jdbcType="VARCHAR" />
		<result column="certificate_name" property="certificateName" jdbcType="VARCHAR" />
		<result column="certificate_url" property="certificateUrl" jdbcType="VARCHAR" />
		<result column="agreement_name" property="agreementName" jdbcType="VARCHAR" />
		<result column="agreement_url" property="agreementUrl" jdbcType="VARCHAR" />
		<result column="cooperant_begin_time" property="cooperantBeginTime" jdbcType="TIMESTAMP" />
		<result column="cooperant_stop_time" property="cooperantStopTime" jdbcType="TIMESTAMP" />
		<result column="status" property="status" jdbcType="VARCHAR" />
		<result column="audit_type" property="auditType" jdbcType="VARCHAR" />
		<result column="create_by" property="createBy" jdbcType="INTEGER" />
		<result column="createtime" property="createtime" jdbcType="TIMESTAMP" />
		<result column="update_by" property="updateBy" jdbcType="INTEGER" />
		<result column="updatetime" property="updatetime" jdbcType="TIMESTAMP" />
	</resultMap>
	<sql id="Base_Column_List" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		id, merchant_name, short_name, en_name, link_man, link_mobile, link_email, address,
		scale, industry, certificate_name, certificate_url, agreement_name, agreement_url,
		cooperant_begin_time, cooperant_stop_time, status, audit_type, create_by, createtime,
		update_by, updatetime
	</sql>
	<sql id="Base_Column" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		id, merchant_name, short_name, en_name, link_man, link_mobile, link_email, address,
		scale, industry, certificate_name, certificate_url, agreement_name, agreement_url,
		cooperant_begin_time, cooperant_stop_time, status, audit_type, create_by, createtime,
		update_by, updatetime
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		select
		<include refid="Base_Column_List" />
		from loan_merchant_info
		where id = #{id,jdbcType=INTEGER}
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		delete from loan_merchant_info
		where id = #{id,jdbcType=INTEGER}
	</delete>
	<insert id="insert" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		insert into loan_merchant_info (id, merchant_name, short_name,
		en_name, link_man, link_mobile,
		link_email, address, scale,
		industry, certificate_name, certificate_url,
		agreement_name, agreement_url, cooperant_begin_time,
		cooperant_stop_time, status, audit_type,
		create_by, createtime, update_by,
		updatetime)
		values (#{id,jdbcType=INTEGER}, #{merchantName,jdbcType=VARCHAR}, #{shortName,jdbcType=VARCHAR},
		#{enName,jdbcType=VARCHAR}, #{linkMan,jdbcType=VARCHAR}, #{linkMobile,jdbcType=VARCHAR},
		#{linkEmail,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, #{scale,jdbcType=VARCHAR},
		#{industry,jdbcType=VARCHAR}, #{certificateName,jdbcType=VARCHAR}, #{certificateUrl,jdbcType=VARCHAR},
		#{agreementName,jdbcType=VARCHAR}, #{agreementUrl,jdbcType=VARCHAR}, #{cooperantBeginTime,jdbcType=TIMESTAMP},
		#{cooperantStopTime,jdbcType=TIMESTAMP}, #{status,jdbcType=VARCHAR}, #{auditType,jdbcType=VARCHAR},
		#{createBy,jdbcType=INTEGER}, #{createtime,jdbcType=TIMESTAMP}, #{updateBy,jdbcType=INTEGER},
		#{updatetime,jdbcType=TIMESTAMP})
	</insert>
	<insert id="insertSelective" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		insert into loan_merchant_info
		<trim prefix="(" suffix=")" suffixOverrides="," >
			<if test="id != null" >
				id,
			</if>
			<if test="merchantName != null" >
				merchant_name,
			</if>
			<if test="shortName != null" >
				short_name,
			</if>
			<if test="enName != null" >
				en_name,
			</if>
			<if test="linkMan != null" >
				link_man,
			</if>
			<if test="linkMobile != null" >
				link_mobile,
			</if>
			<if test="linkEmail != null" >
				link_email,
			</if>
			<if test="address != null" >
				address,
			</if>
			<if test="scale != null" >
				scale,
			</if>
			<if test="industry != null" >
				industry,
			</if>
			<if test="certificateName != null" >
				certificate_name,
			</if>
			<if test="certificateUrl != null" >
				certificate_url,
			</if>
			<if test="agreementName != null" >
				agreement_name,
			</if>
			<if test="agreementUrl != null" >
				agreement_url,
			</if>
			<if test="cooperantBeginTime != null" >
				cooperant_begin_time,
			</if>
			<if test="cooperantStopTime != null" >
				cooperant_stop_time,
			</if>
			<if test="status != null" >
				status,
			</if>
			<if test="auditType != null" >
				audit_type,
			</if>
			<if test="createBy != null" >
				create_by,
			</if>
			<if test="createtime != null" >
				createtime,
			</if>
			<if test="updateBy != null" >
				update_by,
			</if>
			<if test="updatetime != null" >
				updatetime,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides="," >
			<if test="id != null" >
				#{id,jdbcType=INTEGER},
			</if>
			<if test="merchantName != null" >
				#{merchantName,jdbcType=VARCHAR},
			</if>
			<if test="shortName != null" >
				#{shortName,jdbcType=VARCHAR},
			</if>
			<if test="enName != null" >
				#{enName,jdbcType=VARCHAR},
			</if>
			<if test="linkMan != null" >
				#{linkMan,jdbcType=VARCHAR},
			</if>
			<if test="linkMobile != null" >
				#{linkMobile,jdbcType=VARCHAR},
			</if>
			<if test="linkEmail != null" >
				#{linkEmail,jdbcType=VARCHAR},
			</if>
			<if test="address != null" >
				#{address,jdbcType=VARCHAR},
			</if>
			<if test="scale != null" >
				#{scale,jdbcType=VARCHAR},
			</if>
			<if test="industry != null" >
				#{industry,jdbcType=VARCHAR},
			</if>
			<if test="certificateName != null" >
				#{certificateName,jdbcType=VARCHAR},
			</if>
			<if test="certificateUrl != null" >
				#{certificateUrl,jdbcType=VARCHAR},
			</if>
			<if test="agreementName != null" >
				#{agreementName,jdbcType=VARCHAR},
			</if>
			<if test="agreementUrl != null" >
				#{agreementUrl,jdbcType=VARCHAR},
			</if>
			<if test="cooperantBeginTime != null" >
				#{cooperantBeginTime,jdbcType=TIMESTAMP},
			</if>
			<if test="cooperantStopTime != null" >
				#{cooperantStopTime,jdbcType=TIMESTAMP},
			</if>
			<if test="status != null" >
				#{status,jdbcType=VARCHAR},
			</if>
			<if test="auditType != null" >
				#{auditType,jdbcType=VARCHAR},
			</if>
			<if test="createBy != null" >
				#{createBy,jdbcType=INTEGER},
			</if>
			<if test="createtime != null" >
				#{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="updateBy != null" >
				#{updateBy,jdbcType=INTEGER},
			</if>
			<if test="updatetime != null" >
				#{updatetime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		update loan_merchant_info
		<set >
			<if test="merchantName != null" >
				merchant_name = #{merchantName,jdbcType=VARCHAR},
			</if>
			<if test="shortName != null" >
				short_name = #{shortName,jdbcType=VARCHAR},
			</if>
			<if test="enName != null" >
				en_name = #{enName,jdbcType=VARCHAR},
			</if>
			<if test="linkMan != null" >
				link_man = #{linkMan,jdbcType=VARCHAR},
			</if>
			<if test="linkMobile != null" >
				link_mobile = #{linkMobile,jdbcType=VARCHAR},
			</if>
			<if test="linkEmail != null" >
				link_email = #{linkEmail,jdbcType=VARCHAR},
			</if>
			<if test="address != null" >
				address = #{address,jdbcType=VARCHAR},
			</if>
			<if test="scale != null" >
				scale = #{scale,jdbcType=VARCHAR},
			</if>
			<if test="industry != null" >
				industry = #{industry,jdbcType=VARCHAR},
			</if>
			<if test="certificateName != null" >
				certificate_name = #{certificateName,jdbcType=VARCHAR},
			</if>
			<if test="certificateUrl != null" >
				certificate_url = #{certificateUrl,jdbcType=VARCHAR},
			</if>
			<if test="agreementName != null" >
				agreement_name = #{agreementName,jdbcType=VARCHAR},
			</if>
			<if test="agreementUrl != null" >
				agreement_url = #{agreementUrl,jdbcType=VARCHAR},
			</if>
			<if test="cooperantBeginTime != null" >
				cooperant_begin_time = #{cooperantBeginTime,jdbcType=TIMESTAMP},
			</if>
			<if test="cooperantStopTime != null" >
				cooperant_stop_time = #{cooperantStopTime,jdbcType=TIMESTAMP},
			</if>
			<if test="status != null" >
				status = #{status,jdbcType=VARCHAR},
			</if>
			<if test="auditType != null" >
				audit_type = #{auditType,jdbcType=VARCHAR},
			</if>
			<if test="createBy != null" >
				create_by = #{createBy,jdbcType=INTEGER},
			</if>
			<if test="createtime != null" >
				createtime = #{createtime,jdbcType=TIMESTAMP},
			</if>
			<if test="updateBy != null" >
				update_by = #{updateBy,jdbcType=INTEGER},
			</if>
			<if test="updatetime != null" >
				updatetime = #{updatetime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where id = #{id,jdbcType=INTEGER}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo" >
		<!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
		update loan_merchant_info
		set merchant_name = #{merchantName,jdbcType=VARCHAR},
		short_name = #{shortName,jdbcType=VARCHAR},
		en_name = #{enName,jdbcType=VARCHAR},
		link_man = #{linkMan,jdbcType=VARCHAR},
		link_mobile = #{linkMobile,jdbcType=VARCHAR},
		link_email = #{linkEmail,jdbcType=VARCHAR},
		address = #{address,jdbcType=VARCHAR},
		scale = #{scale,jdbcType=VARCHAR},
		industry = #{industry,jdbcType=VARCHAR},
		certificate_name = #{certificateName,jdbcType=VARCHAR},
		certificate_url = #{certificateUrl,jdbcType=VARCHAR},
		agreement_name = #{agreementName,jdbcType=VARCHAR},
		agreement_url = #{agreementUrl,jdbcType=VARCHAR},
		cooperant_begin_time = #{cooperantBeginTime,jdbcType=TIMESTAMP},
		cooperant_stop_time = #{cooperantStopTime,jdbcType=TIMESTAMP},
		status = #{status,jdbcType=VARCHAR},
		audit_type = #{auditType,jdbcType=VARCHAR},
		create_by = #{createBy,jdbcType=INTEGER},
		createtime = #{createtime,jdbcType=TIMESTAMP},
		update_by = #{updateBy,jdbcType=INTEGER},
		updatetime = #{updatetime,jdbcType=TIMESTAMP}
		where id = #{id,jdbcType=INTEGER}
	</update>

	<select id="findMerchantinfoByToid" parameterType="java.lang.Integer" resultMap="BaseResultMap">
		select
		<include refid="Base_Column" />
		 from loan_merchant_info where id = #{id}
	</select>

	<select id="selectMerchantinfo" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo" resultMap="BaseResultMap">
		select
		<include refid="Base_Column" />
		 from loan_merchant_info where 1=1
		<if test="id!= null and id!=''">
			and id =#{id}
		</if>
		<if test="merchantName!= null and merchantName!=''">
			and merchant_name LIKE CONCAT('%',#{merchantName},'%')
		</if>
		<if test="shortName!= null and shortName!=''">
			and short_name LIKE CONCAT('%',#{shortName},'%')
		</if>
		<if test="linkMan!= null and linkMan!=''">
			and link_man =#{linkMan}
		</if>
		<if test="auditType != null" >
			and audit_type = #{auditType,jdbcType=VARCHAR}
		</if>
		<if test="linkMobile!= null and linkMobile!=''">
			and link_mobile =#{linkMobile}
		</if>
		<if test="null != startTime and endTime ==null ">
			AND cooperant_stop_time &gt;= #{startTime}
		</if>
		<if test="null == startTime and endTime !=null ">
			AND cooperant_stop_time &lt;DATE_ADD(#{endTime}, INTERVAL 1 DAY)
		</if>
		<if test="null != startTime and endTime !=null ">
			AND cooperant_stop_time &gt;= #{startTime} AND cooperant_stop_time &lt; DATE_ADD(#{endTime}, INTERVAL 1 DAY)
		</if>
		<if test="status!= null and status!=''">
			and status =#{status}
		</if>
        ORDER BY createtime DESC
	</select>

	<insert id="insertMerchant" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo" useGeneratedKeys="true" keyProperty="id">
		insert into loan_merchant_info (
			<include refid="Base_Column"/>
		) values(
			null,#{merchantName},#{shortName},#{enName},#{linkMan},#{linkMobile},#{linkEmail},#{address},#{scale},#{industry},
			#{certificateName},#{certificateUrl},#{agreementName},#{agreementUrl},
			#{cooperantBeginTime},#{cooperantStopTime},
			#{status},#{createtime},#{updatetime},#{createBy},#{updateBy}
		)
	</insert>

  <!--分页查询总数量-->
  <select id="getCountByPage" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo" resultType="java.lang.Integer">
    select count(id) from loan_merchant_info where 1 = 1
    <if test="param.merchant_name != null">
      and merchant_name LIKE CONCAT('%',#{merchantName},'%')
    </if>
  </select>

    <select id="getAllMerchantName" parameterType="java.lang.String" resultType="com.xiaochong.loan.background.entity.vo.MerchantNameVo">
        select id,merchant_name merchantName from loan_merchant_info where 1 = 1
        <if test="merchantName != null">
            and merchant_name LIKE CONCAT('%',#{merchantName},'%')
        </if>
        order by createtime desc
    </select>
	<delete id="deleteMerchant" parameterType="java.lang.String" >
	    delete from loan_merchant_info
	    where id = #{id}
  	</delete>

	<update id="updateMerchant" parameterType="com.xiaochong.loan.background.entity.po.Merchantinfo">
		update loan_merchant_info
		<set>
			<if test="merchantName != null">
				merchant_name = #{merchantName},
			</if>
			<if test="shortName != null">
				short_name = #{shortName},
			</if>
			<if test="enName != null">
				en_name = #{enName},
			</if>
			<if test="linkMan != null">
				link_man = #{linkMan},
			</if>
			<if test="linkMobile != null">
				link_mobile = #{linkMobile},
			</if>
			<if test="linkEmail != null">
                link_email = #{linkEmail},
			</if>
			<if test="address != null">
                address = #{address},
			</if>
			<if test="scale != null">
                scale = #{scale},
			</if>
			<if test="industry != null">
                industry = #{industry},
			</if>
			<if test="certificateName != null">
				certificate_name = #{certificateName},
			</if>
			<if test="certificateUrl != null">
				certificate_url = #{certificateUrl},
			</if>
			<if test="agreementName != null">
				certificate_name = #{agreementName},
			</if>
			<if test="agreementUrl != null">
				certificate_url = #{agreementUrl},
			</if>
			<if test="cooperantBeginTime != null">
				cooperant_begin_time = #{cooperantBeginTime},
			</if>
			<if test="cooperantStopTime != null">
				cooperant_stop_time = #{cooperantStopTime},
			</if>
			<if test="auditType != null" >
				audit_type = #{auditType,jdbcType=VARCHAR}
			</if>
			<if test="status != null">
				status = #{status},
			</if>
			<if test="updatetime != null">
				updatetime = #{updatetime},
			</if>
		</set>
		where id = #{id}
	</update>


</mapper>